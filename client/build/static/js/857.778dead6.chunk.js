"use strict";(self.webpackChunkbinance_alerts_client=self.webpackChunkbinance_alerts_client||[]).push([[857],{3857:(e,o,t)=>{t.r(o),t.d(o,{default:()=>We});var l=t(5043),r=t(6240),n=t(344),i=t(6446),s=t(2518),a=t(8903),c=t(3336),d=t(7392),x=t(5865),u=t(5288),g=t(5400),m=t(295),h=t(9611),p=t(8242),f=t(7912),b=t(3456),A=t(9948),v=t(1637),y=t(1547),j=t(5917),C=t(579);const S=[{value:"1m",label:"1M",limit:1e3},{value:"5m",label:"5M",limit:200},{value:"15m",label:"15M",limit:200},{value:"30m",label:"30M",limit:200},{value:"1h",label:"1H",limit:1e3},{value:"4h",label:"4H",limit:1e3},{value:"1d",label:"1D",limit:365}],k=e=>{var o,a,d;let{symbol:u,timeframe:g="1h",onTimeframeChange:m,onSymbolChange:h}=e;const p=(0,r.A)(),f=(0,n.A)(p.breakpoints.down("md")),b=(0,l.useRef)(null),k=(0,l.useRef)(null),E=(0,l.useRef)(null),[w,N]=(0,l.useState)(!0),[R,I]=(0,l.useState)(null),[D,M]=(0,l.useState)(g),[O,T]=(0,l.useState)(null),[P,B]=(0,l.useState)(null),[F,L]=(0,l.useState)(!1),[z,H]=(0,l.useState)(!1),W=S.find(e=>e.value===D)||S[4];(0,l.useEffect)(()=>{(async()=>{try{const e="http://localhost:5000",o=await fetch("".concat(e,"/api/triggered-alerts?limit=1&sort=createdAt&order=desc"));if(o.ok){const e=await o.json();e.triggeredAlerts&&e.triggeredAlerts.length>0&&(T(e.triggeredAlerts[0]),console.log("\ud83d\udcca Chart loaded latest alert:",e.triggeredAlerts[0]))}}catch(R){console.error("Error fetching latest alert:",R)}})();const e=t(8574)("http://localhost:5000");return e.on("triggered-alert-created",e=>{var o,t;(console.log("\ud83d\udce1 Chart received new triggered alert via socket:",e),e.triggeredAlert)&&(T(e.triggeredAlert),console.log("\ud83d\udcca Chart updated with new triggered alert data:",e.triggeredAlert),h&&e.triggeredAlert.symbol!==u&&(console.log("\ud83d\udd04 Auto-switching chart to triggered symbol:",e.triggeredAlert.symbol),h(e.triggeredAlert.symbol),L(!0)),e.triggeredAlert.symbol===u&&(console.log("\ud83d\udd25 Chart is now showing LIVE data for triggered symbol:",u),B((null===(o=e.triggeredAlert.marketData)||void 0===o?void 0:o.price)||(null===(t=e.triggeredAlert.conditionDetails)||void 0===t?void 0:t.actualValue)),L(!0)))}),e.on("price-update",e=>{if(e.symbol===u&&e.price&&(B(e.price),console.log("\ud83d\udcb0 Live price update for",u,":",e.price),E.current&&e.timestamp)){const o={time:Math.floor(Date.now()/1e3),value:e.price};try{E.current.update(o),console.log("\ud83d\udcc8 Chart updated with real-time price:",e.price)}catch(R){console.error("Error updating chart with real-time data:",R)}}}),()=>{e.disconnect()}},[u]);const U="".concat(u||"none","-").concat(D);(0,l.useEffect)(()=>{console.log("LineChart: selectedTimeframe changed to ".concat(D))},[D]),(0,l.useEffect)(()=>{console.log("LineChart: propTimeframe changed to ".concat(g))},[g]),(0,l.useEffect)(()=>{console.log("LineChart: symbol prop changed to ".concat(u))},[u]),(0,l.useEffect)(()=>{console.log("LineChart: chartKey changed to ".concat(U)),k.current&&(k.current.remove(),k.current=null,E.current=null),E.current&&(E.current=null),N(!0),I(null),L(!1),H(!1)},[U]);const V=(0,l.useCallback)(e=>{console.log("LineChart: Changing timeframe from ".concat(D," to ").concat(e)),M(e),m?(console.log("LineChart: Notifying parent of timeframe change"),m(e)):console.warn("LineChart: No onTimeframeChange handler provided")},[D,m]);return(0,l.useEffect)(()=>{g!==D&&(console.log("LineChart: Updating selectedTimeframe from ".concat(D," to ").concat(g," (from props)")),M(g))},[g,D]),(0,l.useEffect)(()=>{if(!u||!b.current)return;return(async()=>{try{N(!0),I(null);const e=W.limit,o="object"===typeof u?u.symbol||"BTCUSDT":String(u);console.log("Fetching data for ".concat(o," (").concat(D,"), limit: ").concat(e,"..."));const t="/api/crypto/".concat(o,"/chart?timeframe=").concat(D,"&limit=").concat(e);console.log("\ud83d\udcca Chart API URL:",t);const l=await fetch(t);if(!l.ok)throw console.error("\ud83d\udcca Chart API Error:",l.status,l.statusText),new Error("API error: ".concat(l.status," - ").concat(l.statusText));const r=await l.json();if(console.log("\ud83d\udcca Chart API Response:",r),!r||0===r.length)return I("No data available"),void N(!1);r._fallback?(console.warn("\u26a0\ufe0f Using fallback chart data due to API connectivity issues"),H(!0)):H(!1),console.log("Received ".concat(r.length," data points for ").concat(u)),k.current&&(console.log("Removing previous chart"),k.current.remove(),k.current=null,E.current=null),console.log("Creating new line chart");const n=(0,y.R9)(b.current,{width:b.current.clientWidth,height:400,layout:{background:{color:"#222"},textColor:"#DDD"},grid:{vertLines:{color:"transparent"},horzLines:{color:"transparent"}},timeScale:{timeVisible:!0,borderColor:"#444"}});k.current=n;const i=n.addSeries(y.Im,{color:"#2962FF",lineWidth:2,crosshairMarkerVisible:!0,crosshairMarkerRadius:6});E.current=i,console.log("Processing ".concat(r.length," data points for timeframe ").concat(D)),console.log("Sample timestamps:",r.slice(0,5).map(e=>e.time));let s=r.map(e=>{let o;"number"===typeof e.time?(o=new Date(1e3*e.time),isFinite(o)||(o=new Date(e.time))):o=new Date(e.time);const t=o.getFullYear(),l=String(o.getMonth()+1).padStart(2,"0"),r=String(o.getDate()).padStart(2,"0");return{time:"".concat(t,"-").concat(l,"-").concat(r),value:Number(e.close),originalTime:e.time}});const a=new Map;for(const c of s)a.set(c.time,c);s=Array.from(a.values()),s.sort((e,o)=>e.time.localeCompare(o.time)),console.log("Processed data (after deduplication):",s.length,"items, first 5:",s.slice(0,5)),console.log("Using strict YYYY-MM-DD format for all data points"),s=s.map(e=>{let{time:o,value:t}=e;return{time:o,value:t}}),i.setData(s),n.timeScale().fitContent(),console.log("Line chart rendered successfully"),N(!1)}catch(e){console.error("Chart error:",e),I(e.message),N(!1)}})(),()=>{if(k.current)try{k.current.remove(),k.current=null,E.current=null}catch(e){console.error("Error removing chart:",e)}}},[u,D,W]),(0,C.jsxs)(c.A,{sx:{p:{xs:1,sm:2},mb:2,bgcolor:"background.paper",borderRadius:2},children:[u&&(0,C.jsxs)(i.A,{sx:{mb:2,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:.5},children:[(0,C.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,C.jsx)(x.A,{variant:"body2",sx:{color:"#E2E8F0",fontWeight:"bold"},children:u}),z&&(0,C.jsx)(x.A,{variant:"caption",sx:{color:"#F59E0B",fontSize:"0.6rem",bgcolor:"rgba(245, 158, 11, 0.1)",px:1,py:.25,borderRadius:1,border:"1px solid rgba(245, 158, 11, 0.3)"},children:"\u26a0\ufe0f DEMO DATA"})]}),O&&(0,C.jsxs)(x.A,{variant:"caption",sx:{color:"#94A3B8",fontWeight:"normal"},children:["Volume (24h): $",(G=(null===(o=O.marketData)||void 0===o?void 0:o.volume)||0,G>=1e9?(G/1e9).toFixed(1)+"B":G>=1e6?(G/1e6).toFixed(1)+"M":G>=1e3?(G/1e3).toFixed(1)+"K":G.toFixed(0)),O.symbol===u]})]}),(0,C.jsx)(A.A,{size:"small","aria-label":"timeframe selection",sx:{"& .MuiButton-root":{minWidth:"50px",fontSize:"0.75rem",py:.5}},children:S.map(e=>(0,C.jsx)(s.A,{onClick:()=>V(e.value),variant:D===e.value?"contained":"outlined",children:e.label},e.value))})]}),(0,C.jsxs)(i.A,{ref:b,sx:{width:"100%",height:{xs:250,sm:300,md:400},bgcolor:"#222",position:"relative",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",border:F?"2px solid #10B981":"2px solid transparent",boxShadow:F?"0 0 20px rgba(16, 185, 129, 0.3)":"none",transition:"all 0.3s ease-in-out"},children:[w&&(0,C.jsx)(v.A,{size:f?30:40,sx:{color:"primary.main"}}),!w&&R&&(0,C.jsx)(x.A,{color:"error",sx:{p:2,fontSize:{xs:"0.875rem",sm:"1rem"},textAlign:"center"},children:R})]}),(0,C.jsxs)(i.A,{sx:{mt:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O&&O.conditionDetails&&(0,C.jsxs)(i.A,{children:[(0,C.jsxs)(x.A,{variant:"caption",sx:{color:"#94A3B8",fontSize:"0.7rem",display:"flex",alignItems:"center",gap:.5},children:["\ud83d\udea8 Alert Triggered - ",O.symbol]}),(0,C.jsxs)(x.A,{variant:"body2",sx:{color:"#E2E8F0",fontWeight:"bold",fontSize:"0.8rem"},children:["Target: ",O.conditionDetails.targetValue," | Actual:"," ",O.conditionDetails.actualValue," | Timeframe:"," ",O.conditionDetails.timeframe]})]}),(0,C.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,C.jsx)(x.A,{variant:"caption",sx:{color:"#94A3B8",fontSize:"0.7rem"},children:"Last Price"}),(0,C.jsxs)(x.A,{variant:"body2",sx:{color:"#E2E8F0",fontWeight:"bold",fontSize:"0.8rem"},children:["$",P||(null===O||void 0===O||null===(a=O.marketData)||void 0===a?void 0:a.price)||(null===O||void 0===O||null===(d=O.conditionDetails)||void 0===d?void 0:d.actualValue)||"0.0000"]})]}),(0,C.jsx)(x.A,{variant:"body2",sx:{color:"#E2E8F0"},children:"|"}),(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,C.jsx)(x.A,{variant:"caption",sx:{color:"#94A3B8",fontSize:"0.7rem"},children:"Time"}),(0,C.jsx)(x.A,{variant:"body2",sx:{color:"#E2E8F0",fontWeight:"bold",fontSize:"0.8rem"},children:O?(0,j.A)(new Date(O.triggeredAt),"HH:mm:ss"):"00:00:00"})]}),(0,C.jsx)(x.A,{variant:"body2",sx:{color:"#E2E8F0"},children:"|"}),(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,C.jsx)(x.A,{variant:"caption",sx:{color:"#94A3B8",fontSize:"0.7rem"},children:"Date"}),(0,C.jsx)(x.A,{variant:"body2",sx:{color:"#E2E8F0",fontWeight:"bold",fontSize:"0.8rem"},children:O?(0,j.A)(new Date(O.triggeredAt),"MMM dd, yyyy"):"Jan 01, 2025"})]})]})]})]});var G};var E=t(3845),w=t(5078),N=t(4511),R=t(310),I=t(2559),D=t(8577),M=t(3217),O=t(5721),T=t(8185),P=t(4628),B=t(8734),F=t(9336),L=t(6360),z=t(847),H=t(3881),W=t(4444),U=t(7948),V=t(3990),G=t(1798),_=t(4609),q=t(6887),K=t(2679),Y=t(8),J=t(45),$=t(4836),X=t(6328),Q=t(279),Z=t(6258);const ee=["children","type","direction","timeout","in"],oe=e=>{let{children:o,type:t="fade",direction:l="up",timeout:r=300,in:n=!0}=e,s=(0,J.A)(e,ee);const a=(0,Y.A)({in:n,timeout:r},s);switch(t){case"slide":return(0,C.jsx)($.A,(0,Y.A)((0,Y.A)({direction:l},a),{},{children:(0,C.jsx)(i.A,{children:o})}));case"grow":return(0,C.jsx)(X.A,(0,Y.A)((0,Y.A)({},a),{},{children:(0,C.jsx)(i.A,{children:o})}));case"collapse":return(0,C.jsx)(Q.A,(0,Y.A)((0,Y.A)({},a),{},{children:(0,C.jsx)(i.A,{children:o})}));default:return(0,C.jsx)(Z.A,(0,Y.A)((0,Y.A)({},a),{},{children:(0,C.jsx)(i.A,{children:o})}))}};new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;this.queue=[],this.running=[],this.maxConcurrent=e}async add(e){return new Promise((o,t)=>{this.queue.push({requestFunction:e,resolve:o,reject:t}),this.process()})}async process(){if(this.running.length>=this.maxConcurrent||0===this.queue.length)return;const{requestFunction:e,resolve:o,reject:t}=this.queue.shift(),l={requestFunction:e,resolve:o,reject:t};this.running.push(l);try{o(await e())}catch(r){t(r)}finally{this.running=this.running.filter(e=>e!==l),this.process()}}}(2);const te=e=>{var o,t;let{onSelectCoin:a,onCreateAlert:u,onAlertsCreated:g,onRef:m}=e;const h=(0,r.A)(),p=(0,n.A)(h.breakpoints.down("md")),{cryptos:b,error:A,toggleFavorite:v,batchToggleFavorites:y,isFavorite:j,getFavoriteSymbols:S,isOperationPending:k,clearAllFavorites:Y,checkAlertConditions:J,loadCryptos:$}=((0,n.A)(h.breakpoints.down("lg")),(0,G.x0)()),{filters:X,getValidationFilters:Q,hasActiveFilters:Z}=(0,_.R7)(),{alerts:ee,deleteAlert:te}=(0,q.M)(),{togglePairSelection:re,isPairSelected:ne}=(0,K.a)(),[ie,se]=(0,l.useState)("market"),[ae,ce]=(0,l.useState)(""),[de,xe]=(0,l.useState)(""),ue=(0,l.useRef)(null),[ge,me]=(0,l.useState)({}),[,he]=(0,l.useState)(!1),[pe,fe]=(0,l.useState)(!1),[be,Ae]=(0,l.useState)(new Set),[ve,ye]=(0,l.useState)(!1),[je,Ce]=(0,l.useState)(!1),[Se,ke]=(0,l.useState)(null),Ee=((e,o)=>{const t=(0,l.useRef)(!1);return(0,l.useCallback)(function(){t.current||(e(...arguments),t.current=!0,setTimeout(()=>{t.current=!1},o))},[e,o])})((0,l.useCallback)(async()=>{if(!Z)return void me({});he(!0);const e={},o=Q(),t="favorites"===ie?b.filter(e=>j(e.symbol)):b;if(!t||0===t.length)return void he(!1);const l=new Set(ee.filter(e=>e.isActive).map(e=>e.symbol)),r=t.filter(e=>l.has(e.symbol));if(console.log("Checking conditions for ".concat(r.length," coins with active alerts:"),r.map(e=>e.symbol)),0===r.length)return me({}),void he(!1);console.log("Validation filters:",o);for(let n=0;n<r.length;n+=5){const t=r.slice(n,n+5).map(t=>J(t.symbol,o).then(o=>(e[t.symbol]=o.meetsConditions,o)).catch(o=>(console.error("Error checking conditions for ".concat(t.symbol,":"),o),e[t.symbol]=!1,{meetsConditions:!1})));await Promise.all(t)}me(e),he(!1)},[Q,J,ee,ie,b,Z,j]),2e3);(0,l.useEffect)(()=>{$(1,5e3,!1,!0,!0,!0)},[$,b]);const we=(0,l.useMemo)(()=>{if(!b)return[];let e=[...b];if(e=e.filter(e=>e.symbol.endsWith("USDT")&&!0===e.isSpotTradingAllowed&&"TRADING"===e.status),"favorites"===ie&&(e=e.filter(e=>j(e.symbol))),""!==ae.trim()){const o=ae.toLowerCase();e=e.filter(e=>e.symbol.toLowerCase().includes(o)||e.name&&e.name.toLowerCase().includes(o))}const o=e.filter((e,o,t)=>o===t.findIndex(o=>o.symbol===e.symbol));return o.sort((e,o)=>{const t=j(e.symbol),l=j(o.symbol);return t&&!l?-1:!t&&l?1:o.volume-e.volume}),o},[b,ie,ae,X.pair,j]),Ne=(0,l.useMemo)(()=>{if(!b)return 0;let e=[...b];e=e.filter(e=>e.symbol.endsWith("USDT")&&!0===e.isSpotTradingAllowed&&"TRADING"===e.status);return e.filter((e,o,t)=>o===t.findIndex(o=>o.symbol===e.symbol)).length},[b,X.pair]),Re=(0,l.useCallback)(e=>{const o=e.target.checked;if(fe(o),o){const e=we.map(e=>e.symbol);Ae(new Set(e));const o=we.filter(e=>!j(e.symbol)).map(e=>({symbol:e.symbol,action:"add"}));o.length>0&&y(o),we.forEach(e=>{ne(e.symbol)||re(e.symbol)}),"favorites"!==ie&&se("favorites")}else{const e=we.map(e=>e.symbol);Ae(o=>{const t=new Set(o);return e.forEach(e=>t.delete(e)),t});const o=we.filter(e=>j(e.symbol)).map(e=>({symbol:e.symbol,action:"remove"}));o.length>0&&y(o),we.forEach(e=>{ne(e.symbol)&&re(e.symbol)}),"favorites"===ie&&se("market")}},[we,y,j,ne,re,ie]);(0,l.useEffect)(()=>{if(b&&b.length>0){const e=S(),o=new Set(e);Ae(e=>e.size===o.size&&[...e].every(e=>o.has(e))?e:o)}},[b,S]),(0,l.useEffect)(()=>{const e=we.map(e=>e.symbol),o=e.filter(e=>be.has(e)).length,t=e.length;fe(0!==o&&(o===t&&t>0))},[be,we]);const Ie=((e,o)=>{const t=(0,l.useRef)(null);return(0,l.useCallback)(function(){for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{e(...r)},o)},[e,o])})(()=>{Z?Ee():me({})},1e3);(0,l.useEffect)(()=>{Ie()},[Z,Ie]);const De=(0,l.useCallback)((e,o)=>{null!==o&&se(o)},[]),Me=(0,l.useCallback)(e=>{const o=e.target.value;xe(o),ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{ce(o)},300)},[]),Oe=(0,l.useCallback)(async()=>{try{ye(!0),await Y(),Ae(new Set),fe(!1),se("market"),console.log("All favorites reset successfully")}catch(A){console.error("Error resetting favorites:",A)}finally{ye(!1)}},[Y]);(0,l.useCallback)(async()=>{try{if(Ce(!0),!ee||0===ee.length)return void console.log("No alerts to delete");const e=ee.map(e=>te(e._id));await Promise.all(e),console.log("All alerts deleted successfully")}catch(A){console.error("Error deleting all alerts:",A)}finally{Ce(!1)}},[ee,te]),(0,l.useCallback)(async(e,o)=>{try{ke(e),await te(e),j(o)&&await v(o),console.log("Alert deleted successfully for ".concat(o))}catch(A){console.error("Error deleting alert for ".concat(o,":"),A)}finally{ke(null)}},[te,j,v]);return(0,l.useEffect)(()=>{m&&m({})},[m]),(0,C.jsxs)(c.A,{sx:{p:{xs:1,sm:2},borderRadius:{xs:1,sm:2},bgcolor:"background.paper",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[A&&(0,C.jsxs)(i.A,{sx:{mb:1,p:1,bgcolor:"error.main",color:"white",borderRadius:1,fontSize:"0.75rem"},children:["Error:"," ","string"===typeof A?A:"Failed to fetch crypto data. Check server connection."]}),(0,C.jsxs)(i.A,{sx:{mb:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,C.jsxs)(x.A,{variant:"caption",sx:{color:"text.secondary"},children:["Showing: ",null!==(o=X.pair)&&void 0!==o&&o.USDT?"USDT pairs only":"All SPOT pairs"]}),null!==(t=X.pair)&&void 0!==t&&t.USDT?(0,C.jsx)(E.A,{label:"USDT ".concat(Ne),size:"small",color:"primary",variant:"outlined",sx:{fontSize:"0.7rem",height:"20px"}}):(0,C.jsx)(E.A,{label:"SPOT ".concat(Ne),size:"small",color:"primary",variant:"outlined",sx:{fontSize:"0.7rem",height:"20px"}}),be.size>0&&(0,C.jsx)(E.A,{label:"".concat(be.size," Selected"),size:"small",color:"warning",variant:"outlined",sx:{fontSize:"0.7rem",height:"20px"}})]}),(0,C.jsxs)(w.A,{value:ie,exclusive:!0,onChange:De,"aria-label":"market view",fullWidth:!0,sx:{mb:2,"& .MuiToggleButton-root":{fontSize:{xs:"0.75rem",sm:"0.875rem"},py:{xs:.5,sm:1},px:{xs:.5,sm:1.5}}},children:[(0,C.jsx)(N.A,{value:"market","aria-label":"market",children:"Market"}),(0,C.jsx)(N.A,{value:"favorites","aria-label":"favorites",children:p?"Favs":"Favorites"})]}),"favorites"===ie&&S().length>0&&(0,C.jsx)(i.A,{sx:{mb:2,display:"flex",justifyContent:"center"},children:(0,C.jsx)(s.A,{variant:"outlined",color:"error",size:"small",onClick:Oe,disabled:ve,sx:{borderRadius:"20px",textTransform:"none",px:2,py:.5,fontSize:"0.75rem",borderColor:"rgba(244, 67, 54, 0.5)",color:"#f44336","&:hover":{borderColor:"#f44336",backgroundColor:"rgba(244, 67, 54, 0.1)"},"&:disabled":{opacity:.5}},children:ve?"Resetting...":"\ud83d\uddd1\ufe0f Clear All Favorites"})}),(0,C.jsxs)(i.A,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%",bgcolor:(0,R.X4)("#000",.1),borderRadius:1,mb:2},children:[(0,C.jsx)(I.Ay,{sx:{ml:1,flex:1},placeholder:"Search Coins",value:de,onChange:Me}),(0,C.jsx)(d.A,{type:"button",sx:{p:"10px"},"aria-label":"search",children:(0,C.jsx)(L.A,{})})]}),we.length>0&&(0,C.jsx)(i.A,{sx:{p:2,borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,C.jsx)(D.A,{control:(0,C.jsx)(M.A,{checked:pe,onChange:Re,sx:{color:"favorites"===ie?"#FFD700":"#60A5FA"}}),label:(0,C.jsx)(x.A,{variant:"body2",sx:{color:"#E2E8F0"},children:"Select All"})})}),(0,C.jsx)(oe,{type:"slide",direction:"up",timeout:400,children:(0,C.jsx)(O.A,{sx:{flexGrow:1,overflow:"auto",p:0,maxHeight:"calc(100vh - 300px)","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"rgba(255, 255, 255, 0.1)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.3)",borderRadius:"3px","&:hover":{background:"rgba(255, 255, 255, 0.5)"}}},children:A?(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:3},children:[(0,C.jsx)(U.A,{color:"error",sx:{fontSize:48,mb:2}}),(0,C.jsx)(x.A,{variant:"subtitle1",align:"center",color:"error",gutterBottom:!0,children:"Error Loading Data"}),(0,C.jsx)(x.A,{align:"center",variant:"body2",color:"error",sx:{mt:1},children:A})]}):0===we.length?(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:3},children:[(0,C.jsx)(z.A,{sx:{fontSize:48,mb:2,color:"text.secondary"}}),(0,C.jsx)(x.A,{align:"center",variant:"body2",color:"text.secondary",children:"favorites"===ie?"You have no favorite coins yet":"No coins match your search criteria"})]}):b?0===b.length?(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:3},children:[(0,C.jsx)(V.A,{sx:{fontSize:48,mb:2,color:"text.secondary"}}),(0,C.jsx)(x.A,{align:"center",variant:"subtitle1",color:"text.secondary",children:"No Market Data Available"}),(0,C.jsx)(x.A,{align:"center",variant:"body2",color:"text.secondary",sx:{mt:1},children:"Unable to load cryptocurrency data from the server."}),(0,C.jsx)(x.A,{align:"center",variant:"body2",color:"text.secondary",sx:{mt:1},children:"Please check that the API server is running correctly."})]}):we.map((e,o)=>(0,C.jsxs)(l.Fragment,{children:[(0,C.jsxs)(P.Ay,{sx:{py:{xs:.5,sm:1},px:{xs:.5,sm:1},"&:hover":{backgroundColor:(0,R.X4)("#0066FF",.05)},display:"flex",alignItems:"center",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[(0,C.jsx)(M.A,{checked:j(e.symbol),disabled:k(e.symbol),onChange:()=>{j(e.symbol)?(v(e.symbol),re(e.symbol),Ae(o=>{const t=new Set(o);return t.delete(e.symbol),t})):(v(e.symbol),re(e.symbol),Ae(o=>{const t=new Set(o);return t.add(e.symbol),t}),"favorites"!==ie&&se("favorites"))},sx:{color:"favorites"===ie?"#FFD700":"#60A5FA",mr:1,"& .MuiSvgIcon-root":{fontSize:18}}}),(0,C.jsx)(i.A,{onClick:()=>a&&a(e),sx:{flex:1,cursor:"pointer",width:"100%"},children:(0,C.jsx)(B.A,{primary:(0,C.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0}},children:[(0,C.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,C.jsx)(x.A,{variant:"subtitle2",sx:{fontWeight:600},children:e.symbol}),ge[e.symbol]&&(0,C.jsx)(E.A,{icon:(0,C.jsx)(W.A,{}),label:"Alert",size:"small",color:"warning",variant:"outlined"})]}),(0,C.jsx)(i.A,{sx:{textAlign:{xs:"center",sm:"right"},display:"flex",alignItems:"center",gap:1,flexDirection:{xs:"column",sm:"row"}},children:(0,C.jsxs)(i.A,{children:[(0,C.jsxs)(x.A,{variant:"body2",sx:{fontWeight:600},children:["$",parseFloat(e.price||0).toFixed(4)]}),(0,C.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.priceChangePercent24h>=0?(0,C.jsx)(f.A,{sx:{fontSize:14,color:"success.main"}}):(0,C.jsx)(H.A,{sx:{fontSize:14,color:"error.main"}}),(0,C.jsxs)(x.A,{variant:"caption",sx:{color:e.priceChangePercent24h>=0?"success.main":"error.main",fontWeight:500},children:[e.priceChangePercent24h>=0?"+":"",parseFloat(e.priceChangePercent24h||0).toFixed(2),"%"]})]})]})})]}),secondary:e.rsi&&(0,C.jsx)(i.A,{sx:{mt:.5},children:(0,C.jsx)(x.A,{variant:"caption",color:"text.secondary",children:le(e.rsi)})})})})]}),o<we.length-1&&(0,C.jsx)(F.A,{component:"li"})]},e.symbol)):(0,C.jsx)(oe,{type:"fade",timeout:500,children:(0,C.jsx)(i.A,{children:[...Array(10)].map((e,o)=>(0,C.jsx)(i.A,{sx:{p:1},children:(0,C.jsx)(T.A,{variant:"rectangular",height:60,sx:{borderRadius:1,mb:1}})},o))})})})})]})},le=e=>e?e>=70?"RSI: ".concat(e.toFixed(0)," (Overbought)"):e<=30?"RSI: ".concat(e.toFixed(0)," (Oversold)"):"RSI: ".concat(e.toFixed(0)):"RSI: N/A",re=(0,l.memo)(te);var ne=t(9722),ie=t(889),se=t(6605),ae=t(4665),ce=t(710),de=t(9413),xe=t(1787),ue=t(1449),ge=t(4194),me=t(4535),he=t(9506),pe=t(3438),fe=t(8293),be=t(2824),Ae=t(8956);const ve=["loading","children","disabled","loadingText","size"],ye=e=>{let{loading:o,children:t,disabled:l,loadingText:r="Loading...",size:n="small"}=e,a=(0,J.A)(e,ve);return(0,C.jsx)(s.A,(0,Y.A)((0,Y.A)({disabled:l||o},a),{},{children:o?(0,C.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,C.jsx)(v.A,{size:16,color:"inherit"}),r]}):t}))},je=(0,me.Ay)(e=>(0,C.jsx)(M.A,(0,Y.A)((0,Y.A)({},e),{},{disableRipple:!0,icon:(0,C.jsx)("span",{style:{width:18,height:18,borderRadius:3,backgroundColor:"white",border:"1px solid rgba(255,255,255,0.3)",display:"inline-block"}}),checkedIcon:(0,C.jsx)("span",{style:{width:21,height:21,borderRadius:3,backgroundColor:"#1890ff",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,C.jsx)(he.A,{style:{fontSize:16,color:"white"}})})})))({}),Ce=(0,me.Ay)(ie.A)({backgroundColor:"transparent",color:"white",boxShadow:"none",marginBottom:"8px","&:before":{display:"none"},"& .MuiAccordionSummary-root":{minHeight:"48px",padding:"0 16px",borderRadius:"6px","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},"& .MuiAccordionSummary-content":{margin:"12px 0",fontSize:"14px",fontWeight:"500",letterSpacing:"0.5px"},"& .MuiAccordionDetails-root":{padding:"8px 16px 16px 16px"}}),Se=(0,me.Ay)(se.A)({"& .MuiAccordionSummary-expandIconWrapper":{color:"rgba(255, 255, 255, 0.7)",transition:"transform 0.2s ease"},"&:hover .MuiAccordionSummary-expandIconWrapper":{color:"white"}}),ke=(0,me.Ay)(ae.A)({"& .MuiOutlinedInput-root":{backgroundColor:"#151b26",color:"white",borderRadius:"6px",fontSize:"13px","& fieldset":{borderColor:"#30363d",borderWidth:"1px"},"&:hover fieldset":{borderColor:"#4f80ff"},"&.Mui-focused fieldset":{borderColor:"#4f80ff",borderWidth:"2px"}},"& .MuiInputLabel-root":{color:"#8b949e",fontSize:"13px",fontWeight:"400"},"& .MuiInputAdornment-root":{color:"#8b949e"},"& .MuiInputBase-input":{padding:"12px 14px"}}),Ee=(0,me.Ay)(s.A)({borderColor:"#30363d",color:"white",borderRadius:"8px",fontSize:"14px",fontWeight:"500",textTransform:"none",letterSpacing:"0.5px",padding:"12px 24px",transition:"all 0.2s ease","&:hover":{backgroundColor:"#1c2637",borderColor:"#4f80ff",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(72, 128, 255, 0.3)"},"&.MuiButton-contained":{backgroundColor:"#4f80ff",color:"white",boxShadow:"0 2px 8px rgba(72, 128, 255, 0.3)","&:hover":{backgroundColor:"#3b6ae8",transform:"translateY(-1px)",boxShadow:"0 6px 16px rgba(72, 128, 255, 0.4)"}}}),we=(0,me.Ay)(D.A)({"& .MuiFormControlLabel-label":{color:"rgba(255, 255, 255, 0.9)",fontSize:"13px",fontWeight:"400",letterSpacing:"0.3px",marginLeft:"8px"},margin:"1px 0",padding:"1px 2px",borderRadius:"4px",transition:"background-color 0.2s ease","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"},"& .MuiCheckbox-root":{padding:"1px"}}),Ne=(0,me.Ay)(x.A)({color:"rgba(255, 255, 255, 0.95)",fontSize:"14px",fontWeight:"500",letterSpacing:"0.5px"}),Re=(0,l.memo)((0,l.forwardRef)((e,o)=>{var t,a,d,u,g,m,h,p,f,b,A,v,y,j,S,k,E,w,N,R,I,D,M,O,T,P,B,F,L,z,H,W,U,V,J,$,X,Q,Z,ee,oe,te,le,re,ie,se;const{marketPanelRef:ae}=e,{filters:me,setFilters:he,getFilterValues:ve}=(0,_.R7)(),{createAlert:Re,deleteAlertsBySymbol:Ie}=(0,q.M)(),{selectedSymbol:De}=(0,be.dC)(),{cryptos:Me,updateFilter:Oe}=(0,G.x0)(),{getSelectedPairsArray:Te,getSelectedCount:Pe,getFavoritePairsForAlerts:Be}=(0,K.a)(),{showNotification:Fe}=(0,Ae.F)(),[Le,ze]=(0,l.useState)(""),[He,We]=(0,l.useState)(""),[Ue,Ve]=(0,l.useState)(""),[Ge,_e]=(0,l.useState)(!1),qe=(0,l.useMemo)(()=>({emit:(e,o)=>{console.log("Event: ".concat(e),o)}}),[]),Ke=(0,r.A)(),Ye=(0,n.A)(Ke.breakpoints.down("md")),Je=(0,n.A)(Ke.breakpoints.down("lg")),$e=me,Xe=(0,l.useCallback)((e,o)=>{let t=(0,Y.A)({},me);if(["market","exchange","pair","minDaily","changePercent","alertCount","candle"].includes(e)){var l;(null===(l=me[e])||void 0===l?void 0:l[o])||!1?(t[e]={},console.log("\ud83d\udd27 Single selection checkbox unchecked: ".concat(e,".").concat(o," (cleared entire category)"))):(t[e]={},t[e][o]=!0,console.log("\ud83d\udd27 Single selection checkbox checked: ".concat(e,".").concat(o," (cleared others, selected this)")))}else{var r;t[e]=(0,Y.A)((0,Y.A)({},me[e]),{},{[o]:!(null!==(r=me[e])&&void 0!==r&&r[o])}),console.log("\ud83d\udd27 Multiple selection checkbox toggled: ".concat(e,".").concat(o," = ").concat(t[e][o]))}he(t),"pair"!==e&&"market"!==e||(console.log("Updating crypto filter for ".concat(e,":"),t[e]),Oe&&Oe({[e]:t[e]})),"pair"===e&&"USDT"===o&&console.log("USDT filter changed, reloading crypto data...")},[he,me,Oe]),Qe=(0,l.useCallback)((e,o)=>{he(t=>(0,Y.A)((0,Y.A)({},t),{},{[e]:o}))},[he]),Ze=(0,l.useCallback)((e,o,t)=>{null!==t&&he(o=>(0,Y.A)((0,Y.A)({},o),{},{[e]:t}))},[he]);(0,l.useEffect)(()=>{},[Ye]);const eo=(0,l.useCallback)(()=>{const e=[],o=Object.keys($e.changePercent||{}).some(e=>$e.changePercent[e])&&(Ue||$e.percentageValue),t=Object.keys($e.rsiRange||{}).some(e=>$e.rsiRange[e])&&$e.rsiPeriod&&$e.rsiLevel,l=Object.keys($e.ema||{}).some(e=>$e.ema[e])&&$e.emaFast&&$e.emaSlow,r=Object.keys($e.candle||{}).some(e=>$e.candle[e]),n=Object.keys($e.volume||{}).some(e=>$e.volume[e]);if(o||t||l||r||n||e.push("At least one condition must be selected (Change %, RSI, EMA, Candle, or Volume)"),o)if(Ue||$e.percentageValue){const o=Number(Ue||$e.percentageValue);(isNaN(o)||o<=0)&&e.push("Percentage value must be a positive number")}else e.push("Percentage value is required when Change % timeframe is selected");if(t)if($e.rsiPeriod&&$e.rsiLevel){const o=Number($e.rsiPeriod),t=Number($e.rsiLevel);(isNaN(o)||o<=0)&&e.push("RSI Period must be a positive number"),(isNaN(t)||t<1||t>100)&&e.push("RSI Level must be between 1 and 100")}else e.push("RSI Period and Level are required when RSI timeframe is selected");if(l)if($e.emaFast&&$e.emaSlow){const o=Number($e.emaFast),t=Number($e.emaSlow);(isNaN(o)||o<=0)&&e.push("EMA Fast period must be a positive number"),(isNaN(t)||t<=0)&&e.push("EMA Slow period must be a positive number"),o>=t&&e.push("EMA Fast period must be less than Slow period")}else e.push("EMA Fast and Slow periods are required when EMA timeframe is selected");if(r){const o=$e.candleCondition||"NONE";o&&"None"!==o&&"NONE"!==({"Candle Above Open":"ABOVE_OPEN","Candle Below Open":"BELOW_OPEN","Green Candle":"GREEN_CANDLE","Red Candle":"RED_CANDLE","Bullish Hammer":"BULLISH_HAMMER","Bearish Hammer":"BEARISH_HAMMER",Doji:"DOJI","Long Upper Wick":"LONG_UPPER_WICK","Long Lower Wick":"LONG_LOWER_WICK",None:"NONE"}[o]||"NONE")||e.push("Candle condition is required when Candle timeframe is selected")}if(n)if($e.volumeCondition||e.push("Volume condition is required when Volume timeframe is selected"),$e.volumePercentage){const o=Number($e.volumePercentage);(isNaN(o)||o<=0)&&e.push("Volume percentage must be a positive number")}else e.push("Volume percentage is required when Volume timeframe is selected");return e},[$e,Ue]),oo=(0,l.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log("\ud83d\udea8 === CREATE ALERT CLICKED - DEBUG LOGGING ==="),console.log("\ud83d\udea8 Timestamp:",(new Date).toISOString()),console.log("\ud83d\udea8 selectedSymbol type:",typeof De),console.log("\ud83d\udea8 selectedSymbol value:",De),console.log("\ud83d\udea8 symbolOverride:",e),console.log("\ud83d\udea8 selectedSymbol JSON:",JSON.stringify(De,null,2)),console.log("\ud83d\udea8 === CURRENT FILTER CONDITIONS ==="),console.log("\ud83d\udea8 Filters object:",JSON.stringify($e,null,2)),console.log("\ud83d\udea8 Percentage value:",Ue);const o=Be(Me);if(console.log("\ud83d\udea8 === FAVORITE PAIRS VALIDATION ==="),console.log("\ud83d\udea8 Favorite pairs count:",o.length),console.log("\ud83d\udea8 Favorite pairs list:",o),console.log("\ud83d\udea8 All cryptos count:",Me.length),console.log("\ud83d\udea8 Cryptos with isFavorite=true:",Me.filter(e=>e.isFavorite).map(e=>e.symbol)),De&&"object"===typeof De){console.log("=== OBJECT STRUCTURE ANALYSIS ==="),console.log("Object keys:",Object.keys(De)),console.log("Object values:",Object.values(De)),console.log("Object entries:",Object.entries(De)),Object.keys(De).forEach(e=>{console.log("Property '".concat(e,"':"),De[e],"Type:",typeof De[e])});["symbol","Symbol","SYMBOL","ticker","pair","name","code"].forEach(e=>{De[e]&&console.log("Found potential symbol in '".concat(e,"':"),De[e])})}let t;if(e&&(e&&"object"===typeof e&&e.type?(console.log("symbolOverride is an event object, ignoring it"),t=null):(t=String(e),console.log("Using symbolOverride:",t))),!t&&De)if("string"===typeof De&&""!==De.trim())t=De.trim(),console.log("Using selectedSymbol from context:",t);else if("object"===typeof De&&null!==De){console.log("=== ATTEMPTING SYMBOL EXTRACTION FROM OBJECT ===");const e=[De.symbol,De.Symbol,De.SYMBOL,De.selectedSymbol,De.ticker,De.pair,De.name,De.code];console.log("Extraction attempts:",e),t=e.find(e=>e&&"string"===typeof e&&""!==e.trim()),t?console.log("Successfully extracted symbol:",t):(console.log("No valid symbol found in object, using fallback"),t="BTCUSDT")}else t="BTCUSDT",console.log("selectedSymbol invalid, using fallback:",De);else t||(t="BTCUSDT",console.log("No valid symbol found, using fallback"));t&&"string"===typeof t&&""!==t.trim()||(console.warn("Symbol is invalid, forcing BTCUSDT. Original value:",t),t="BTCUSDT");const l=Te(),r=Pe();console.log("Selected pairs:",l),console.log("Selected count:",r);let n=[];if(console.log("\ud83d\udd0d FAVORITES DEBUG - favoritePairs from getFavoritePairsForAlerts:",o),console.log("\ud83d\udd0d FAVORITES DEBUG - favoritePairs.length:",o.length),console.log("\ud83d\udd0d FAVORITES DEBUG - All cryptos count:",Me.length),console.log("\ud83d\udd0d FAVORITES DEBUG - Cryptos with isFavorite=true:",Me.filter(e=>e.isFavorite).map(e=>e.symbol)),r>0){const e=l.filter(e=>o.includes(e));e.length>0?(n=e,console.log("\ud83c\udfaf Creating alerts for SELECTED pairs that are in favorites:",n)):(n=o,console.log("\u2b50 No selected pairs in favorites, using all FAVORITE pairs:",n))}else if(o.length>0)n=o,console.log("\u2b50 Creating alerts for FAVORITE pairs:",n),console.log("\u2b50 FAVORITES DEBUG - symbolsToProcess.length:",n.length);else if(e){if(!o.includes(t))return console.log("\u26a0\ufe0f Override symbol not in favorites, skipping:",t),void ze("\u274c Symbol ".concat(t," is not in your favorites. Please add it to favorites first."));n=[t],console.log("\ud83c\udfaf Creating alert for single override symbol:",t)}else{if(!De||!o.includes(t))return console.log("\u26a0\ufe0f No valid symbols found for alert creation"),void ze("\u274c No favorite pairs available for alert creation. Please add some pairs to favorites first.");n=[t],console.log("\ud83c\udfaf Creating alert for current selected symbol:",t)}if(console.log("Final symbols for alert creation:",n),console.log("\ud83d\udea8 === VALIDATION CHECKS ==="),0===o.length)return console.log("\ud83d\udeab VALIDATION FAILED: No favorite pairs found"),void ze("\u274c No favorite pairs found. Please add some pairs to favorites before creating alerts.");const i=0===eo().length;if(!i)return console.log("\ud83d\udeab VALIDATION FAILED: No active conditions found"),void ze("\u274c Please select at least one condition (Change %, RSI, EMA, Candle, or Volume) before creating alerts.");console.log("\u2705 All symbols are guaranteed to be in favorites due to filtering logic"),console.log("\u2705 VALIDATION PASSED: All checks successful"),console.log("\u2705 Favorite pairs available:",o.length),console.log("\u2705 Active conditions found:",i),console.log("\u2705 All symbols are in favorites");const s=eo();if(s.length>0)ze(s.join(". "));else{_e(!0),ze(""),We(""),We("Creating alerts for ".concat(n.length," pairs..."));try{const e=new Date,o=e=>e.toString().padStart(2,"0"),t="".concat(o(e.getHours()),":").concat(o(e.getMinutes())),l=ve();console.log("\ud83d\udd0d Filter values retrieved:",l),console.log("\ud83d\udd0d Current filters state:",$e);const r=e=>{if(!e||"object"!==typeof e)return null;const o=Object.keys(e).filter(o=>e[o]);return o.length>0?o[0]:null},i=r($e.market)||"SPOT",s=r($e.exchange)||"BINANCE",c=r($e.pair)||"USDT",d=l.minDailyVolume||0;console.log("\ud83d\udd0d Min Daily Volume selected: ".concat(d));const x=l.changePercent.timeframe,u=l.alertCount.timeframe,g=l.alertCount.enabled,m=l.rsi,h=l.ema,p=r($e.candle)||null;let f;to.current&&to.current.value&&""!==to.current.value.trim()?(f=Number(to.current.value),console.log("Got percentage from input ref:",f)):Ue&&""!==Ue.toString().trim()?(f=Number(Ue),console.log("Got percentage from local state:",f)):$e.percentageValue&&""!==$e.percentageValue.toString().trim()?(f=Number($e.percentageValue),console.log("Got percentage from context filters:",f)):(f=1,console.log("Using default percentage value:",f)),(isNaN(f)||f<=0)&&(f=1,console.log("Invalid percentage, using default:",f)),console.log("Final percentage value being sent to backend:",f),console.log("Bulk deleting existing alerts for symbols:",n),We("Deleting existing alerts for ".concat(n.length," pairs..."));let b=[];try{const e=await ne.A.delete("/api/alerts/bulk-delete",{data:{symbols:n.map(e=>e.trim())}});console.log("Bulk deleted ".concat(e.data.deletedCount," alerts for ").concat(n.length," symbols")),b=n.map(o=>({symbol:o.trim(),deletedCount:e.data.deletedCount/n.length,success:!0}))}catch(a){console.error("Error in bulk delete, falling back to individual deletes:",a);const e=n.map(async e=>{try{const o=e.trim();return{symbol:o,deletedCount:(await Ie(o)).deletedCount,success:!0}}catch(a){return console.error("Error deleting existing alerts for ".concat(e,":"),a),{symbol:e,deletedCount:0,success:!1,error:a.message}}});b=await Promise.all(e)}console.log("Deletion results:",b),We("Creating new alerts for ".concat(n.length," pairs..."));const A=[],v=[],y=n.map(async e=>{try{if(!e||"string"!==typeof e||""===e.trim())return console.error("Invalid symbol in batch:",e),{symbol:e,success:!1,error:"Invalid symbol format"};const o=e.trim();console.log("Creating alert for symbol:",o);const l=Object.keys($e.volume||{}).some(e=>$e.volume[e]),r={symbol:o,direction:">",targetType:"percentage",targetValue:Number(f),trackingMode:"current",intervalMinutes:60,volumeChangeRequired:0,alertTime:String(t),comment:"Alert created from filter for ".concat(o),email:" kainat.tasadaq3@gmail.com",minDailyVolume:Number(d)||0,changePercentTimeframe:x?String(x):null,changePercentValue:Number(f),alertCountTimeframe:u?String(u):null,alertCountEnabled:Boolean(g),maxAlertsPerTimeframe:1,candleTimeframes:p?[String(p)]:[],candleCondition:p?(()=>{const e=$e.candleCondition||"NONE";return String({"Candle Above Open":"ABOVE_OPEN","Candle Below Open":"BELOW_OPEN","Green Candle":"GREEN_CANDLE","Red Candle":"RED_CANDLE","Bullish Hammer":"BULLISH_HAMMER","Bearish Hammer":"BEARISH_HAMMER",Doji:"DOJI","Long Upper Wick":"LONG_UPPER_WICK","Long Lower Wick":"LONG_LOWER_WICK",None:"NONE"}[e]||"NONE")})():"NONE",rsiEnabled:Boolean(m),rsiTimeframe:null!==m&&void 0!==m&&m.timeframe?String(m.timeframe):null,rsiPeriod:null!==m&&void 0!==m&&m.period?Number(m.period):0,rsiCondition:null!==m&&void 0!==m&&m.condition?String(m.condition).replace(" ","_"):"NONE",rsiLevel:null!==m&&void 0!==m&&m.level?Number(m.level):0,emaEnabled:Boolean(h),emaTimeframe:null!==h&&void 0!==h&&h.timeframe?String(h.timeframe):null,emaFastPeriod:null!==h&&void 0!==h&&h.fastPeriod?Number(h.fastPeriod):0,emaSlowPeriod:null!==h&&void 0!==h&&h.slowPeriod?Number(h.slowPeriod):0,emaCondition:null!==h&&void 0!==h&&h.condition?String(h.condition).replace(" ","_"):"NONE",volumeEnabled:Boolean(l),volumeTimeframes:l?Object.keys($e.volume||{}).filter(e=>$e.volume[e]):[],volumeCondition:l?String($e.volumeCondition||"NONE"):"NONE",volumePercentage:l?Number($e.volumePercentage||0):0,market:String(i),exchange:String(s),tradingPair:String(c)};console.log("Creating alert with OHLCV data:",{symbol:r.symbol,minDailyVolume:r.minDailyVolume,changePercent:{timeframe:r.changePercentTimeframe,value:r.changePercentValue},alertCount:{timeframe:r.alertCountTimeframe,enabled:r.alertCountEnabled},rsi:m,ema:h});const n=await Re(r);return console.log("\u2705 ALERT CREATED SUCCESSFULLY:",o),console.log("\u2705 Alert data:",JSON.stringify(r,null,2)),console.log("\u2705 Created alert:",n),qe.emit("ALERT_CREATED",n),{symbol:o,success:!0,alert:n}}catch(a){var o,l,r;console.error("Error creating alert for",e,":",a);return{symbol:e,success:!1,error:(null===(o=a.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||(null===(r=a.response)||void 0===r?void 0:r.data)||a.message||"Unknown error"}}});(await Promise.all(y)).forEach(e=>{e.success?A.push(e):v.push(e)});const j=A.length,C=v.length,S=n.length;if(console.log("DEBUG - Alert creation results:"),console.log("DEBUG - successCount:",j),console.log("DEBUG - failureCount:",C),console.log("DEBUG - totalCount:",S),console.log("DEBUG - symbolsToProcess:",n),j===S){if(1===S){const e="Alert created successfully for ".concat(n[0],"!");We(e),Fe(e,"success")}else{const e="All ".concat(S," alerts created successfully!");We(e),Fe(e,"success")}ae&&ae.current&&ae.current.switchToAlertsView&&ae.current.switchToAlertsView()}else if(j>0){const e="".concat(j," of ").concat(S," alerts created successfully.");if(We(e),Fe(e,"warning"),C>0){const e=v.map(e=>e.symbol).join(", "),o="Failed to create alerts for: ".concat(e);ze(o),Fe(o,"error")}}else{const e="Failed to create alerts for all ".concat(S," symbols.");ze(e),Fe(e,"error")}j>0&&(Ve(""),to.current&&(to.current.value=""),he(e=>(0,Y.A)((0,Y.A)({},e),{},{percentageValue:null})))}catch(a){console.error("Error in bulk alert creation:",a),ze("Failed to create alerts: ".concat(a.message))}finally{_e(!1)}}},[Re,ve,he,Fe,qe,Ve,Te,Pe,De,Ie,eo,$e.candle,$e.candleCondition,$e.market,$e.exchange,$e.pair,$e.percentageValue,Ue,ae,Me,Be]);(0,l.useImperativeHandle)(o,()=>({handleCreateAlert:oo}));const to=(0,l.useRef)(null),lo=(0,l.useCallback)(e=>{const o=e.target.value;console.log("Percentage input changed to:",o),Ve(o),Qe("percentageValue",o),to.current&&(to.current.value=o)},[Qe]);return(0,C.jsx)(c.A,{sx:{bgcolor:"#0d1117",borderRadius:{xs:"0px",md:"12px"},height:"100%",p:{xs:1,sm:2,md:3},overflow:"auto",maxHeight:{xs:"100vh",md:"calc(100vh - 100px)"},width:{xs:"100%",md:"auto"},color:"white",border:{xs:"none",md:"1px solid rgba(255, 255, 255, 0.08)"},boxShadow:{xs:"none",md:"0 4px 20px rgba(0, 0, 0, 0.3)"},position:{xs:"relative",md:"relative"},zIndex:"auto"},children:(0,C.jsxs)(i.A,{component:"aside",sx:{color:"text.primary","& > *:not(:last-child)":{marginBottom:"4px"}},children:[Je&&(0,C.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[(0,C.jsx)(x.A,{variant:"h6",sx:{fontWeight:600,color:"white"},children:"Filters & Alerts"}),(0,C.jsx)(s.A,{onClick:()=>{oo()},sx:{minWidth:"40px",width:"40px",height:"40px",borderRadius:"50%",p:0,color:"white","&:hover":{backgroundColor:"rgba(255,255,255,0.1)"}},children:(0,C.jsx)(pe.A,{})})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"market-content",id:"market-header",children:(0,C.jsx)(Ne,{children:"Market "})}),(0,C.jsx)(ce.A,{children:(0,C.jsx)(de.A,{children:(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(t=$e.market)||void 0===t?void 0:t.SPOT)||!1,onChange:()=>Xe("market","SPOT")}),label:"SPOT"})})})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"exchange-content",id:"exchange-header",children:(0,C.jsx)(Ne,{children:"Exchange "})}),(0,C.jsx)(ce.A,{children:(0,C.jsx)(de.A,{children:(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(a=$e.exchange)||void 0===a?void 0:a.BINANCE)||!1,onChange:()=>Xe("exchange","BINANCE")}),label:"BINANCE"})})})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"pair-content",id:"pair-header",children:(0,C.jsx)(Ne,{children:"Pair "})}),(0,C.jsx)(ce.A,{children:(0,C.jsx)(de.A,{children:(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(d=$e.pair)||void 0===d?void 0:d.USDT)||!1,onChange:()=>Xe("pair","USDT")}),label:"USDT"})})})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"min-daily-content",id:"min-daily-header",children:(0,C.jsx)(Ne,{children:"Min. Daily "})}),(0,C.jsx)(ce.A,{children:(0,C.jsxs)(i.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:.5,padding:"1px 0"},children:[(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(u=$e.minDaily)||void 0===u?void 0:u["10K"])||!1,onChange:()=>Xe("minDaily","10K")}),label:"10k"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(g=$e.minDaily)||void 0===g?void 0:g["100K"])||!1,onChange:()=>Xe("minDaily","100K")}),label:"100K"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(m=$e.minDaily)||void 0===m?void 0:m["500K"])||!1,onChange:()=>Xe("minDaily","500K")}),label:"500K"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(h=$e.minDaily)||void 0===h?void 0:h["1MN"])||!1,onChange:()=>Xe("minDaily","1MN")}),label:"1MN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(p=$e.minDaily)||void 0===p?void 0:p["2MN"])||!1,onChange:()=>Xe("minDaily","2MN")}),label:"2MN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(f=$e.minDaily)||void 0===f?void 0:f["5MN"])||!1,onChange:()=>Xe("minDaily","5MN")}),label:"5MN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(b=$e.minDaily)||void 0===b?void 0:b["10MN"])||!1,onChange:()=>Xe("minDaily","10MN")}),label:"10MN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(A=$e.minDaily)||void 0===A?void 0:A["25MN"])||!1,onChange:()=>Xe("minDaily","25MN")}),label:"25MN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(v=$e.minDaily)||void 0===v?void 0:v["50MN_PLUS"])||!1,onChange:()=>Xe("minDaily","50MN_PLUS")}),label:"50MN and Above",sx:{gridColumn:"1 / span 2"}})]})})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"change-percent-content",id:"change-percent-header",children:(0,C.jsx)(Ne,{children:"Change % "})}),(0,C.jsxs)(ce.A,{children:[(0,C.jsxs)(i.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:.5,padding:"1px 0"},children:[(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(y=$e.changePercent)||void 0===y?void 0:y["1MIN"])||!1,onChange:()=>Xe("changePercent","1MIN")}),label:"1MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(j=$e.changePercent)||void 0===j?void 0:j["5MIN"])||!1,onChange:()=>Xe("changePercent","5MIN")}),label:"5MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(S=$e.changePercent)||void 0===S?void 0:S["15MIN"])||!1,onChange:()=>Xe("changePercent","15MIN")}),label:"15MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(k=$e.changePercent)||void 0===k?void 0:k["1HR"])||!1,onChange:()=>Xe("changePercent","1HR")}),label:"1HR"})]}),(0,C.jsxs)(i.A,{sx:{mt:.5,padding:"1px 0"},children:[(0,C.jsx)(Ne,{variant:"body2",sx:{fontSize:"13px",mb:1},children:"Percentage %"}),(0,C.jsx)(ke,{type:"number",size:"small",variant:"outlined",fullWidth:!0,placeholder:"Enter percentage",inputRef:to,value:Ue||$e.percentageValue||"",onChange:lo,InputProps:{endAdornment:(0,C.jsx)(xe.A,{position:"end",children:"%"}),inputProps:{min:.1,step:.1}},sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#4f80ff",borderWidth:"2px"},"&.Mui-focused fieldset":{borderColor:"#4f80ff",borderWidth:"2px"}}}})]})]})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"alert-count-content",id:"alert-count-header",children:(0,C.jsx)(Ne,{children:"Alert Count "})}),(0,C.jsxs)(ce.A,{children:[(0,C.jsxs)(i.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:.5,padding:"1px 0"},children:[(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(E=$e.alertCount)||void 0===E?void 0:E["5MIN"])||!1,onChange:()=>Xe("alertCount","5MIN")}),label:"5MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(w=$e.alertCount)||void 0===w?void 0:w["15MIN"])||!1,onChange:()=>Xe("alertCount","15MIN")}),label:"15MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(N=$e.alertCount)||void 0===N?void 0:N["1HR"])||!1,onChange:()=>Xe("alertCount","1HR")}),label:"1HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(R=$e.alertCount)||void 0===R?void 0:R["4HR"])||!1,onChange:()=>Xe("alertCount","4HR")}),label:"4HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(I=$e.alertCount)||void 0===I?void 0:I["12HR"])||!1,onChange:()=>Xe("alertCount","12HR")}),label:"12HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(D=$e.alertCount)||void 0===D?void 0:D.D)||!1,onChange:()=>Xe("alertCount","D")}),label:"D"})]}),Object.keys($e.alertCount||{}).some(e=>$e.alertCount[e])&&(0,C.jsxs)(i.A,{sx:{mt:1,p:1,bgcolor:"rgba(34, 197, 94, 0.1)",borderRadius:1,border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,C.jsx)(Ne,{variant:"body2",sx:{fontSize:"12px",color:"#22C55E",textAlign:"center"},children:"\ud83d\udea8 Alert Count Enabled: Max 1 alert per candle"}),(0,C.jsx)(Ne,{variant:"body2",sx:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",mt:.5},children:"Prevents spam alerts within the same candle timeframe"})]})]})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"candle-content",id:"candle-header",children:(0,C.jsx)(Ne,{children:"Candle"})}),(0,C.jsxs)(ce.A,{children:[(0,C.jsxs)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,padding:"1px 0"},children:[(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(M=$e.candle)||void 0===M?void 0:M["5MIN"])||!1,onChange:()=>Xe("candle","5MIN")}),label:"5MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(O=$e.candle)||void 0===O?void 0:O["15MIN"])||!1,onChange:()=>Xe("candle","15MIN")}),label:"15MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(T=$e.candle)||void 0===T?void 0:T["1HR"])||!1,onChange:()=>Xe("candle","1HR")}),label:"1HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(P=$e.candle)||void 0===P?void 0:P["4HR"])||!1,onChange:()=>Xe("candle","4HR")}),label:"4HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(B=$e.candle)||void 0===B?void 0:B["12HR"])||!1,onChange:()=>Xe("candle","12HR")}),label:"12HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(F=$e.candle)||void 0===F?void 0:F.D)||!1,onChange:()=>Xe("candle","D")}),label:"D"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(L=$e.candle)||void 0===L?void 0:L.W)||!1,onChange:()=>Xe("candle","W")}),label:"W"})]}),(0,C.jsxs)(i.A,{sx:{mt:1},children:[(0,C.jsx)(Ne,{variant:"body2",gutterBottom:!0,children:"Condition:"}),(0,C.jsxs)(ke,{select:!0,size:"small",variant:"outlined",fullWidth:!0,value:$e.candleCondition||"Candle Above Open",onChange:e=>Qe("candleCondition",e.target.value),children:[(0,C.jsx)(ue.A,{value:"Candle Above Open",children:"Candle Above Open"}),(0,C.jsx)(ue.A,{value:"Candle Below Open",children:"Candle Below Open"}),(0,C.jsx)(ue.A,{value:"Green Candle",children:"Green Candle (Close > Open)"}),(0,C.jsx)(ue.A,{value:"Red Candle",children:"Red Candle (Close < Open)"}),(0,C.jsx)(ue.A,{value:"Bullish Hammer",children:"Bullish Hammer"}),(0,C.jsx)(ue.A,{value:"Bearish Hammer",children:"Bearish Hammer"}),(0,C.jsx)(ue.A,{value:"Doji",children:"Doji (Open \u2248 Close)"}),(0,C.jsx)(ue.A,{value:"Long Upper Wick",children:"Long Upper Wick"}),(0,C.jsx)(ue.A,{value:"Long Lower Wick",children:"Long Lower Wick"}),(0,C.jsx)(ue.A,{value:"None",children:"None"})]})]})]})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"rsi-range-content",id:"rsi-range-header",children:(0,C.jsx)(Ne,{children:"RSI Range (Multiple)"})}),(0,C.jsxs)(ce.A,{children:[(0,C.jsxs)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,padding:"1px 0"},children:[(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(z=$e.rsiRange)||void 0===z?void 0:z["5MIN"])||!1,onChange:()=>Xe("rsiRange","5MIN")}),label:"5MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(H=$e.rsiRange)||void 0===H?void 0:H["15MIN"])||!1,onChange:()=>Xe("rsiRange","15MIN")}),label:"15MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(W=$e.rsiRange)||void 0===W?void 0:W["1HR"])||!1,onChange:()=>Xe("rsiRange","1HR")}),label:"1HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(U=$e.rsiRange)||void 0===U?void 0:U["4HR"])||!1,onChange:()=>Xe("rsiRange","4HR")}),label:"4HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(V=$e.rsiRange)||void 0===V?void 0:V["12HR"])||!1,onChange:()=>Xe("rsiRange","12HR")}),label:"12HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(J=$e.rsiRange)||void 0===J?void 0:J.D)||!1,onChange:()=>Xe("rsiRange","D")}),label:"D"})]}),(0,C.jsxs)(i.A,{sx:{display:"flex",gap:1,mt:.5},children:[(0,C.jsxs)(i.A,{children:[(0,C.jsx)(Ne,{variant:"body2",gutterBottom:!0,children:"RSI Period"}),(0,C.jsx)(ke,{size:"small",variant:"outlined",value:$e.rsiPeriod||"14",onChange:e=>Qe("rsiPeriod",e.target.value),sx:{width:"100px"}})]}),(0,C.jsxs)(i.A,{children:[(0,C.jsx)(Ne,{variant:"body2",gutterBottom:!0,children:"Level (1-100)"}),(0,C.jsx)(ke,{size:"small",variant:"outlined",value:$e.rsiLevel||"70",onChange:e=>Qe("rsiLevel",e.target.value),sx:{width:"100px"}})]})]}),(0,C.jsxs)(i.A,{sx:{mt:1},children:[(0,C.jsxs)(i.A,{sx:{display:"flex",gap:.5,mb:1},children:[(0,C.jsx)(Ee,{variant:"ABOVE"===$e.rsiCondition?"contained":"outlined",size:"small",onClick:()=>Ze("rsiCondition",null,"ABOVE"),sx:{flex:1,py:.5,fontSize:"12px"},children:"ABOVE"}),(0,C.jsx)(Ee,{variant:"BELOW"===$e.rsiCondition?"contained":"outlined",size:"small",onClick:()=>Ze("rsiCondition",null,"BELOW"),sx:{flex:1,py:.5,fontSize:"12px"},children:"BELOW"})]}),(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,C.jsx)(Ee,{variant:"CROSSING UP"===$e.rsiCondition?"contained":"outlined",size:"small",onClick:()=>Ze("rsiCondition",null,"CROSSING UP"),sx:{py:.5,fontSize:"12px"},children:"CROSSING UP"}),(0,C.jsx)(Ee,{variant:"CROSSING DOWN"===$e.rsiCondition?"contained":"outlined",size:"small",onClick:()=>Ze("rsiCondition",null,"CROSSING DOWN"),sx:{py:.5,fontSize:"12px"},children:"CROSSING DOWN"})]})]})]})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"volume-content",id:"volume-header",children:(0,C.jsx)(Ne,{children:"Volume"})}),(0,C.jsxs)(ce.A,{children:[(0,C.jsxs)(i.A,{sx:{mb:2},children:[(0,C.jsx)(Ne,{variant:"body2",gutterBottom:!0,children:"Timeframe:"}),(0,C.jsxs)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,padding:"1px 0"},children:[(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===($=$e.volume)||void 0===$?void 0:$["1MIN"])||!1,onChange:()=>Xe("volume","1MIN")}),label:"1MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(X=$e.volume)||void 0===X?void 0:X["5MIN"])||!1,onChange:()=>Xe("volume","5MIN")}),label:"5MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(Q=$e.volume)||void 0===Q?void 0:Q["15MIN"])||!1,onChange:()=>Xe("volume","15MIN")}),label:"15MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(Z=$e.volume)||void 0===Z?void 0:Z["1HR"])||!1,onChange:()=>Xe("volume","1HR")}),label:"1HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(ee=$e.volume)||void 0===ee?void 0:ee["4HR"])||!1,onChange:()=>Xe("volume","4HR")}),label:"4HR"})]})]}),(0,C.jsxs)(i.A,{sx:{mb:2},children:[(0,C.jsx)(Ne,{variant:"body2",gutterBottom:!0,children:"Condition:"}),(0,C.jsxs)(i.A,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:[(0,C.jsx)(Ee,{variant:"INCREASING"===$e.volumeCondition?"contained":"outlined",size:"small",onClick:()=>Ze("volumeCondition",null,"INCREASING"),sx:{py:.5,fontSize:"12px"},children:"INCREASING"}),(0,C.jsx)(Ee,{variant:"DECREASING"===$e.volumeCondition?"contained":"outlined",size:"small",onClick:()=>Ze("volumeCondition",null,"DECREASING"),sx:{py:.5,fontSize:"12px"},children:"DECREASING"}),(0,C.jsx)(Ee,{variant:"ABOVE"===$e.volumeCondition?"contained":"outlined",size:"small",onClick:()=>Ze("volumeCondition",null,"ABOVE"),sx:{py:.5,fontSize:"12px"},children:"ABOVE"}),(0,C.jsx)(Ee,{variant:"BELOW"===$e.volumeCondition?"contained":"outlined",size:"small",onClick:()=>Ze("volumeCondition",null,"BELOW"),sx:{py:.5,fontSize:"12px"},children:"BELOW"})]})]}),(0,C.jsxs)(i.A,{children:[(0,C.jsx)(Ne,{variant:"body2",gutterBottom:!0,children:"Percentage %:"}),(0,C.jsx)(ke,{size:"small",variant:"outlined",type:"number",value:$e.volumePercentage||"",onChange:e=>Qe("volumePercentage",e.target.value),InputProps:{endAdornment:(0,C.jsx)(xe.A,{position:"end",children:(0,C.jsx)(x.A,{variant:"body2",sx:{color:"#94A3B8"},children:"%"})})},placeholder:"Enter percentage",sx:{width:"100%"}})]})]})]}),(0,C.jsxs)(Ce,{defaultExpanded:!0,children:[(0,C.jsx)(Se,{expandIcon:(0,C.jsx)(fe.A,{}),"aria-controls":"ema-content",id:"ema-header",children:(0,C.jsx)(Ne,{children:"EMA Fast / Slow (Multiple)"})}),(0,C.jsxs)(ce.A,{children:[(0,C.jsxs)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,padding:"1px 0"},children:[(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(oe=$e.ema)||void 0===oe?void 0:oe["5MIN"])||!1,onChange:()=>Xe("ema","5MIN")}),label:"5MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(te=$e.ema)||void 0===te?void 0:te["15MIN"])||!1,onChange:()=>Xe("ema","15MIN")}),label:"15MIN"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(le=$e.ema)||void 0===le?void 0:le["1HR"])||!1,onChange:()=>Xe("ema","1HR")}),label:"1HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(re=$e.ema)||void 0===re?void 0:re["4HR"])||!1,onChange:()=>Xe("ema","4HR")}),label:"4HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(ie=$e.ema)||void 0===ie?void 0:ie["12HR"])||!1,onChange:()=>Xe("ema","12HR")}),label:"12HR"}),(0,C.jsx)(we,{control:(0,C.jsx)(je,{checked:(null===(se=$e.ema)||void 0===se?void 0:se.D)||!1,onChange:()=>Xe("ema","D")}),label:"D"})]}),(0,C.jsxs)(i.A,{sx:{display:"flex",gap:1,mt:.5},children:[(0,C.jsxs)(i.A,{children:[(0,C.jsx)(Ne,{variant:"body2",gutterBottom:!0,children:"Fast"}),(0,C.jsx)(ke,{size:"small",variant:"outlined",value:$e.emaFast||"12",onChange:e=>Qe("emaFast",e.target.value),sx:{width:"100px"}})]}),(0,C.jsxs)(i.A,{children:[(0,C.jsx)(Ne,{variant:"body2",gutterBottom:!0,children:"Slow"}),(0,C.jsx)(ke,{size:"small",variant:"outlined",value:$e.emaSlow||"26",onChange:e=>Qe("emaSlow",e.target.value),sx:{width:"100px"}})]})]}),(0,C.jsx)(i.A,{sx:{mt:1},children:(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,C.jsx)(Ee,{variant:"ABOVE"===$e.emaCondition?"contained":"outlined",size:"small",onClick:()=>Ze("emaCondition",null,"ABOVE"),sx:{py:.5,fontSize:"12px"},children:"ABOVE"}),(0,C.jsx)(Ee,{variant:"BELOW"===$e.emaCondition?"contained":"outlined",size:"small",onClick:()=>Ze("emaCondition",null,"BELOW"),sx:{py:.5,fontSize:"12px"},children:"BELOW"}),(0,C.jsx)(Ee,{variant:"CROSSING UP"===$e.emaCondition?"contained":"outlined",size:"small",onClick:()=>Ze("emaCondition",null,"CROSSING UP"),sx:{py:.5,fontSize:"12px"},children:"CROSSING UP"}),(0,C.jsx)(Ee,{variant:"CROSSING DOWN"===$e.emaCondition?"contained":"outlined",size:"small",onClick:()=>Ze("emaCondition",null,"CROSSING DOWN"),sx:{py:.5,fontSize:"12px"},children:"CROSSING DOWN"})]})})]})]}),(0,C.jsx)(i.A,{sx:{mt:3},children:(0,C.jsx)(ye,{variant:"contained",color:"primary",fullWidth:!0,size:"large",sx:{py:{xs:1,sm:1.5},mb:{xs:2,md:0},fontSize:{xs:"0.875rem",sm:"1rem"}},onClick:oo,disabled:eo().length>0,loading:Ge,loadingText:"Creating Alert...",children:"Create Alert"})}),Le&&(0,C.jsx)(ge.A,{severity:"error",sx:{mt:2},children:Le}),He&&(0,C.jsx)(ge.A,{severity:"success",sx:{mt:2},children:He}),Je&&(0,C.jsxs)(i.A,{sx:{mt:3,position:"sticky",bottom:0,left:0,right:0,bgcolor:"#0d1117",pt:1,pb:2,zIndex:5,borderTop:"1px solid rgba(255,255,255,0.1)",px:1},children:[(0,C.jsx)(ye,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{oo()},disabled:eo().length>0,loading:Ge,loadingText:"Creating Alert...",children:"Apply & Close"}),(0,C.jsx)(i.A,{sx:{height:"70px"}})]})]})})})),Ie=(0,l.memo)(Re,(e,o)=>e.selectedSymbol===o.selectedSymbol&&e.onAlertCreated===o.onAlertCreated);var De=t(6269),Me=t(8739),Oe=t(8266),Te=t(8483),Pe=t(1337),Be=t(5473),Fe=t(7402),Le=t(2379),ze=t(9778);const He=()=>{const[e,o]=(0,l.useState)([]),[t,r]=(0,l.useState)(!0),[n,a]=(0,l.useState)(null),[u,g]=(0,l.useState)({}),[m,h]=(0,l.useState)({});(0,l.useEffect)(()=>{p();const e=e=>{console.log("\ud83e\uddf9 Daily cleanup triggered - clearing triggered alerts history"),o([]),h({})};window.addEventListener("dailyHistoryCleanup",e);const t=(0,De.Ay)("http://localhost:5000");t.on("triggered-alert-created",e=>{console.log("\ud83d\udce1 Received new triggered alert via socket:",e),o(o=>o.some(o=>o._id===e.triggeredAlert._id)?o:[e.triggeredAlert,...o])});const l=setInterval(()=>{p()},6e4);return()=>{t.disconnect(),clearInterval(l),window.removeEventListener("dailyHistoryCleanup",e)}},[]);const p=async()=>{try{r(!0);const e="http://localhost:5000";console.log("Fetching triggered alerts from:","".concat(e,"/api/triggered-alerts"));const t=await fetch("".concat(e,"/api/triggered-alerts"));if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));const l=await t.json();o(l.triggeredAlerts||[]),a(null)}catch(e){console.error("Error fetching triggered alerts:",e),a("Error loading triggered alerts: ".concat(e.message))}finally{r(!1)}},b=e=>{const o=!u[e];g(t=>(0,Y.A)((0,Y.A)({},t),{},{[e]:o})),o&&!m[e]&&(async e=>{try{const o="http://localhost:5000",t=await fetch("".concat(o,"/api/triggered-alerts/symbol/").concat(e));if(!t.ok)throw new Error("Failed to fetch symbol history");const l=await t.json();h(o=>(0,Y.A)((0,Y.A)({},o),{},{[e]:l.rawHistory||[]}))}catch(o){console.error("Error fetching symbol history:",o)}})(e)},A=e=>{switch(e){case"PRICE_ABOVE":case"PERCENTAGE_CHANGE":case"RSI_ABOVE":case"EMA_CROSS_ABOVE":return(0,C.jsx)(f.A,{color:"success"});case"PRICE_BELOW":case"RSI_BELOW":case"EMA_CROSS_BELOW":return(0,C.jsx)(H.A,{color:"error"});default:return(0,C.jsx)(ze.A,{color:"info"})}},y=e=>{switch(e){case"EMAIL":return(0,C.jsx)(Fe.A,{fontSize:"small"});case"TELEGRAM":return(0,C.jsx)(Le.A,{fontSize:"small"});default:return(0,C.jsx)(ze.A,{fontSize:"small"})}},S=e=>{switch(e){case"SENT":return"success";case"FAILED":return"error";case"PENDING":return"warning";default:return"default"}},k=e.reduce((e,o)=>(e[o.symbol]||(e[o.symbol]=[]),e[o.symbol].push(o),e),{});return t?(0,C.jsx)(i.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",children:(0,C.jsx)(v.A,{})}):n?(0,C.jsxs)(ge.A,{severity:"error",sx:{m:2},children:["Error loading triggered alerts: ",n]}):(0,C.jsxs)(c.A,{sx:{p:2,bgcolor:"#0A0E17",color:"white",height:"100%"},children:[(0,C.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,C.jsx)(x.A,{variant:"h6",sx:{color:"#E2E8F0"},children:"Triggered Alerts History"}),(0,C.jsx)(s.A,{variant:"outlined",size:"small",onClick:p,sx:{color:"#60A5FA",borderColor:"#60A5FA"},children:"Refresh"})]}),0===Object.keys(k).length?(0,C.jsx)(i.A,{sx:{textAlign:"center",mt:4,p:3},children:(0,C.jsx)(x.A,{color:"#94A3B8",children:"No triggered alerts found. Alerts will appear here when conditions are met."})}):(0,C.jsx)(O.A,{sx:{maxHeight:"calc(100vh - 200px)",overflow:"auto"},children:Object.entries(k).map(e=>{let[o,t]=e;return(0,C.jsxs)(i.A,{children:[(0,C.jsxs)(P.Ay,{sx:{bgcolor:"rgba(255, 255, 255, 0.05)",borderRadius:1,mb:1,cursor:"pointer"},onClick:()=>b(o),children:[(0,C.jsx)(B.A,{primary:(0,C.jsxs)(i.A,{display:"flex",alignItems:"center",gap:1,children:[(0,C.jsx)(x.A,{variant:"h6",sx:{color:"#E2E8F0"},children:o}),(0,C.jsx)(Me.A,{badgeContent:t.length,color:"primary"})]}),secondary:(0,C.jsxs)(x.A,{variant:"body2",sx:{color:"#94A3B8"},children:["Last triggered:"," ",(0,j.A)(new Date(t[0].triggeredAt),"MMM dd, yyyy HH:mm")]})}),(0,C.jsx)(Oe.A,{children:(0,C.jsx)(d.A,{edge:"end",onClick:e=>{e.stopPropagation(),b(o)},sx:{color:"#94A3B8"},children:u[o]?(0,C.jsx)(Be.A,{}):(0,C.jsx)(Pe.A,{})})})]}),(0,C.jsx)(Q.A,{in:u[o],timeout:"auto",unmountOnExit:!0,children:(0,C.jsx)(i.A,{sx:{ml:2,mb:2},children:(m[o]||t).map((e,o)=>{var t,l;return(0,C.jsxs)(c.A,{sx:{p:2,mb:1,bgcolor:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,C.jsxs)(i.A,{display:"flex",justifyContent:"between",alignItems:"flex-start",mb:1,children:[(0,C.jsxs)(i.A,{display:"flex",alignItems:"center",gap:1,children:[A(e.conditionMet),(0,C.jsxs)(x.A,{variant:"body2",sx:{color:"#E2E8F0"},children:[(null===(t=e.conditionDetails)||void 0===t?void 0:t.description)||e.conditionMet,e.changePercentTimeframe&&(0,C.jsxs)("span",{style:{marginLeft:"8px",color:"#60A5FA"},children:["| Timeframe: ",e.changePercentTimeframe]})]})]}),(0,C.jsx)(x.A,{variant:"caption",sx:{color:"#94A3B8"},children:(0,j.A)(new Date(e.triggeredAt),"MMM dd, HH:mm:ss")})]}),e.conditionDetails&&(0,C.jsx)(i.A,{mb:1,children:(0,C.jsxs)(x.A,{variant:"caption",sx:{color:"#94A3B8"},children:["Target: ",e.conditionDetails.targetValue," | Actual: ",e.conditionDetails.actualValue,e.conditionDetails.timeframe&&" | ".concat(e.conditionDetails.timeframe),e.changePercentTimeframe&&" | Change Timeframe: ".concat(e.changePercentTimeframe)]})}),e.marketData&&(0,C.jsx)(i.A,{mb:1,children:(0,C.jsxs)(x.A,{variant:"caption",sx:{color:"#94A3B8"},children:["Price: $",e.marketData.price," | 24h Change:"," ",e.marketData.priceChangePercent24h,"%",e.marketData.rsi&&" | RSI: ".concat(e.marketData.rsi)]})}),(0,C.jsx)(i.A,{display:"flex",gap:1,flexWrap:"wrap",children:null===(l=e.notifications)||void 0===l?void 0:l.map((e,o)=>(0,C.jsx)(Te.A,{title:"".concat(e.type," to ").concat(e.recipient," - ").concat(e.status),children:(0,C.jsx)(E.A,{icon:y(e.type),label:e.type,size:"small",color:S(e.status),variant:"outlined"})},o))})]},e._id)})})}),Object.keys(k).indexOf(o)<Object.keys(k).length-1&&(0,C.jsx)(F.A,{sx:{my:1,bgcolor:"rgba(255, 255, 255, 0.1)"}})]},o)})})]})},We=e=>{let{children:o}=e;const{alerts:t}=(0,q.M)(),{selectedSymbol:A,selectedTimeframe:v,selectSymbol:y,selectTimeframe:j}=(0,be.dC)(),S=(0,r.A)(),E=(0,n.A)(S.breakpoints.down("md")),[w,N]=(0,l.useState)(A),[R,I]=(0,l.useState)(v),[D,M]=(0,l.useState)(null),[O,T]=(0,l.useState)(!1),[P,B]=(0,l.useState)(0),[F,L]=(0,l.useState)("chart"),z=(0,l.useRef)(),H=(0,l.useRef)(),W=e=>{console.log("Creating alert for favorited symbol:",e),z.current&&z.current.handleCreateAlert&&z.current.handleCreateAlert(e)};(0,l.useEffect)(()=>{console.log("Dashboard - Current alerts state:",t)},[t]),(0,l.useEffect)(()=>{(async()=>{try{const e="http://localhost:5000",o=await fetch("".concat(e,"/api/triggered-alerts?limit=1&sort=createdAt&order=desc"));if(o.ok){const e=await o.json();if(e.triggeredAlerts&&e.triggeredAlerts.length>0){const o=e.triggeredAlerts[0];console.log("Last triggered alert:",o),M(o.symbol),console.log("Setting chart to show latest triggered symbol:",o.symbol),N(o.symbol),y(o.symbol)}else console.log("No triggered alerts found, setting BTCUSDT as default"),N("BTCUSDT"),y("BTCUSDT")}else console.log("API error, using BTCUSDT as fallback"),N("BTCUSDT"),y("BTCUSDT")}catch(e){console.error("Error initializing chart:",e),N("BTCUSDT"),y("BTCUSDT")}})()},[]),(0,l.useEffect)(()=>{(async()=>{try{const e="http://localhost:5000",o=await fetch("".concat(e,"/api/triggered-alerts?limit=1&sort=createdAt&order=desc"));if(o.ok){const e=await o.json();if(e.triggeredAlerts&&e.triggeredAlerts.length>0){const o=e.triggeredAlerts[0];console.log("\ud83d\udcca Dashboard loaded latest alert:",o),M(o.symbol),N(o.symbol),y(o.symbol)}}}catch(e){console.error("Error loading latest alert:",e)}})()},[y]),(0,l.useEffect)(()=>{const e=(0,De.Ay)("http://localhost:5000");return e.on("triggered-alert-created",e=>{if(console.log("\ud83d\udce1 Dashboard received new triggered alert:",e),e.triggeredAlert&&e.triggeredAlert.symbol){const o=e.triggeredAlert.symbol;console.log("\ud83d\udd25 Auto-switching chart to triggered alert symbol:",o),M(o),N(o),y(o),console.log("\ud83d\udcca Chart automatically switched to ".concat(o," due to alert trigger"))}}),()=>{e.disconnect()}},[y]);const U=e=>{const o="object"===typeof e?e.symbol||"BTCUSDT":String(e);console.log("Dashboard: Coin selected from market panel: ".concat(o)),N(o),y(o)},V=e=>{console.log("Dashboard: Timeframe changed to: ".concat(e)),I(e),j(e)},G=()=>{T(!1)},_=()=>(0,C.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh",p:{xs:.2,sm:.1},gap:.2},children:[D&&D!==w&&(0,C.jsx)(i.A,{sx:{mb:.2,textAlign:"center"},children:(0,C.jsxs)(s.A,{variant:"contained",size:"small",onClick:()=>{console.log("\ud83d\udcca Manually switching to triggered alert symbol: ".concat(D)),N(D),y(D)},sx:{bgcolor:"#22C55E",color:"white","&:hover":{bgcolor:"#16A34A"},fontSize:"0.6rem",py:.1,px:.8,minHeight:"20px",borderRadius:1,animation:"pulse 2s infinite","@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.7},"100%":{opacity:1}}},children:["\ud83d\udd25 New Alert: ",D]})}),console.log("\ud83d\udcca Dashboard rendering LineChart with symbol:",w,"timeframe:",R),(0,C.jsx)(k,{symbol:w,timeframe:R,onTimeframeChange:V,onSymbolChange:e=>{console.log("\ud83d\udd04 Dashboard: Chart requested symbol change to:",e),N(e),y(e)}}),(0,C.jsx)(i.A,{sx:{flex:1,overflow:"auto",borderRadius:1,bgcolor:"#0A0E17",p:.4,mt:.2},children:(0,C.jsx)(i.A,{sx:{mt:.2,minHeight:{xs:"200px",sm:"160px"},overflow:"auto"},children:(0,C.jsx)(He,{})})})]});return(0,C.jsxs)(i.A,{sx:{width:"100%",height:"100vh",overflow:"auto",bgcolor:"#0A0E17",display:"flex",flexDirection:"column",m:0,p:0,maxWidth:"100%",boxSizing:"border-box","&::-webkit-scrollbar":{width:"4px",height:"2px"},"&::-webkit-scrollbar-track":{background:"#1a1a1a",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"#4f80ff",borderRadius:"4px",minHeight:"20px","&:hover":{background:"#3b6ae8"}},"&::-webkit-scrollbar-corner":{background:"#1a1a1a"}},children:[E?(0,C.jsxs)(i.A,{sx:{flexGrow:1,minHeight:"100vh",display:"flex",flexDirection:"column",pb:4},children:[(0,C.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",p:.4,bgcolor:"rgba(0, 0, 0, 0.2)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,C.jsx)(d.A,{onClick:()=>T(!0),sx:{color:"white",mr:1},children:(0,C.jsx)(h.A,{})}),(0,C.jsx)(x.A,{variant:"h6",sx:{color:"white",flexGrow:1,fontSize:"0.9rem"},children:"chart"===F?"Trading Dashboard":"filters"===F?"Filters":"Market"})]}),(0,C.jsx)(i.A,{sx:{flexGrow:1,overflow:"auto","&::-webkit-scrollbar":{width:"6px",height:"6px"},"&::-webkit-scrollbar-track":{background:"#1a1a1a",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"#4f80ff",borderRadius:"4px",minHeight:"15px","&:hover":{background:"#3b6ae8"}},"&::-webkit-scrollbar-corner":{background:"#1a1a1a"}},children:(()=>{switch(F){case"filters":return(0,C.jsx)(i.A,{sx:{p:.4,height:"100%",overflow:"auto"},children:(0,C.jsx)(Ie,{ref:z,selectedSymbol:w,marketPanelRef:H})});case"market":return(0,C.jsx)(i.A,{sx:{p:.4,height:"100%",overflow:"auto"},children:(0,C.jsx)(re,{onSelectCoin:U,onCreateAlert:W,onRef:e=>{H.current=e}})});default:return _()}})()}),(0,C.jsxs)(u.A,{value:P,onChange:(e,o)=>{switch(B(o),o){case 0:default:L("chart");break;case 1:L("filters"),T(!0);break;case 2:L("market"),T(!0)}},sx:{position:"fixed",bottom:0,left:0,right:0,bgcolor:"#0A0E17",borderTop:"1px solid rgba(255, 255, 255, 0.1)",zIndex:1e3,"& .MuiBottomNavigationAction-root":{color:"rgba(255, 255, 255, 0.6)","&.Mui-selected":{color:"#22C55E"}}},children:[(0,C.jsx)(g.A,{label:"Chart",icon:(0,C.jsx)(f.A,{})}),(0,C.jsx)(g.A,{label:"Filters",icon:(0,C.jsx)(p.A,{})}),(0,C.jsx)(g.A,{label:"Market",icon:(0,C.jsx)(b.A,{})})]})]}):(0,C.jsxs)(a.Ay,{container:!0,spacing:0,sx:{flexGrow:1,minHeight:"100vh",m:0,p:0,maxWidth:"100%",width:"100%",boxSizing:"border-box",overflow:"visible"},children:[(0,C.jsx)(a.Ay,{item:!0,xs:12,md:3,lg:3,sx:{minHeight:"100vh",display:{xs:"none",md:"block"},p:0,maxWidth:"23%",flexBasis:"23%",boxSizing:"border-box"},children:(0,C.jsx)(c.A,{sx:{p:.2,height:"100vh",overflow:"auto",bgcolor:"#0A0E17",borderRadius:0,m:0,position:"sticky",top:0},children:(0,C.jsx)(Ie,{ref:z,selectedSymbol:w,marketPanelRef:H})})}),(0,C.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:6,sx:{minHeight:"100vh",display:"flex",flexDirection:"column",p:0,maxWidth:"54%",flexBasis:"54%",boxSizing:"border-box"},children:(0,C.jsx)(i.A,{sx:{height:"100vh",overflow:"auto",position:"sticky",top:0},children:_()})}),(0,C.jsx)(a.Ay,{item:!0,xs:12,md:3,lg:3,sx:{minHeight:"100vh",display:{xs:"none",md:"block"},p:0,maxWidth:"23%",flexBasis:"23%",boxSizing:"border-box"},children:(0,C.jsx)(c.A,{sx:{p:.2,height:"100vh",overflow:"auto",bgcolor:"#0A0E17",borderRadius:0,m:0,position:"sticky",top:0},children:(0,C.jsx)(re,{onSelectCoin:U,onCreateAlert:W,onRef:e=>{H.current=e}})})})]}),(0,C.jsxs)(m.Ay,{anchor:"left",open:O,onClose:G,sx:{"& .MuiDrawer-paper":{width:{xs:"100%",sm:"400px"},bgcolor:"#0A0E17",color:"white"}},children:[(0,C.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",p:.4,borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,C.jsx)(d.A,{onClick:G,sx:{color:"white",mr:1},children:(0,C.jsx)(h.A,{})}),(0,C.jsx)(x.A,{variant:"h6",sx:{color:"white",fontSize:"0.9rem"},children:"filters"===F?"Filters & Alerts":"Market Panel"})]}),(0,C.jsx)(i.A,{sx:{flexGrow:1,overflow:"auto"},children:"filters"===F?(0,C.jsx)(Ie,{ref:z,selectedSymbol:w,marketPanelRef:H}):(0,C.jsx)(re,{onSelectCoin:U,onCreateAlert:W,onRef:e=>{H.current=e}})})]})]})}}}]);
//# sourceMappingURL=857.778dead6.chunk.js.map